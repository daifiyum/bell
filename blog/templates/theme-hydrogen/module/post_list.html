{% load md %}
{% load desc %}
<ul role="list" class="grid grid-cols-1 gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
    {% for post in posts %}
    <li class="col-span-1 flex flex-col divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow">
      <div class="flex flex-1 flex-col">
        <img class="h-40 w-full object-cover" src="https://img.dnxrzl.com/images/2022/08/18/Pinterest_Download-1.jpg" alt="" />
        <div class="p-3">
          <dd class="mb-3 flex gap-2">
            {% if post.is_top %}
            <span class="px-2 py-1 bg-green-100 rounded-md text-sm font-medium text-green-800">置顶</span>
            {% endif %}
            {% for category in post.categories.all %}
            <a href="/categories/{{ category.id }}" class="rounded-full bg-green-100 px-2 py-1 text-sm font-medium text-green-800">{{ category.name }}</a>
            {% endfor %}
          </dd>
          <a href="/archives/{{ post.id }}">
            <h3 class="mb-2 text-lg font-semibold leading-6 text-gray-900 hover:text-gray-600">
              {{ post.title }}
            </h3>
          </a>
          <dl class="mt-1 flex flex-col">
            <dd class="line-clamp-3 text-sm leading-6 text-gray-600">{{ post.content|mdc|desc }}</dd>
          </dl>
        </div>
      </div>

      <div class="flex items-center">
        <div class="flex items-center p-3">
          <img src="https://img.dnxrzl.com/images/2023/05/09/13a866a7ef330.jpg" alt="" class="h-8 w-8 rounded-full" />
          <span class="ml-2 text-sm text-gray-500">发布于{{ post.created_at|date:"Y-m-d" }}</span>
        </div>
        <div class="flex grow items-center justify-end p-3">
          <span class="icon-[mdi-light--message-processing] align-middle text-lg text-icon"></span>
          <span class="ml-2 text-sm leading-none text-gray-500">10</span>
        </div>
      </div>
    </li>
    {% endfor %}
</ul>